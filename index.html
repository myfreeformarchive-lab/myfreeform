<!-- index.html -->
<!-- 
  My Freeform - A minimalist digital archive for thoughts and notes.
  This HTML file serves as the entry point for the web application.
  It includes meta tags for SEO, mobile optimization, security (CSP),
  and preloads critical resources for better performance.
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Character encoding for the document -->
  <meta charset="UTF-8" />

  <!-- Viewport settings for responsive design and mobile optimization -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />

  <!-- Mobile app capabilities for iOS and Android -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- SEO and description meta tags -->
  <meta name="description" content="A minimalist digital archive for your thoughts. Write freely, keep notes private on your device, or share them to the global discovery feed." />

  <!-- Content Security Policy (CSP) to enhance security by restricting resource loading -->
  <!-- Allows scripts from self, unsafe-eval/inline (for dynamic content), and trusted CDNs -->
  <!-- Allows fonts from Google Fonts, styles from Tailwind and Google Fonts -->
  <!-- Allows connections to Firebase and Google APIs -->
  <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-eval' 'unsafe-inline' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://www.gstatic.com https://cdn.tailwindcss.com https://cdn.jsdelivr.net https://*.googleapis.com https://*.firebaseio.com https://apis.google.com; font-src 'self' https://fonts.googleapis.com https://fonts.gstatic.com; style-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com https://fonts.googleapis.com; connect-src 'self' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com/ https://www.gstatic.com https://*.googleapis.com https://*.firebaseio.com https://firestore.googleapis.com;">

  <!-- Open Graph meta tags for social media sharing -->
  <meta property="og:title" content="My Freeform" />
  <meta property="og:description" content="A minimalist digital archive for your thoughts. Keep notes private or share them globally." />
  <meta property="og:image" content="icon.png" />
  <meta property="og:type" content="website" />

  <!-- Page title -->
  <title>My Freeform</title>
  
  <!-- Canonical URL for SEO -->
  <link rel="canonical" href="https://myfreeform.page/">
  
  <!-- Web App Manifest for PWA installation -->
  <link rel="manifest" href="manifest.json">
  
  <!-- Preconnect to Google Static for faster resource loading -->
  <link rel="preconnect" href="https://www.gstatic.com" crossorigin>
  
  <!-- Module preload for critical JavaScript files to improve load times -->
  <link rel="modulepreload" href="app.js" fetchpriority="high">
  <link rel="modulepreload" href="https://www.gstatic.com/firebasejs/11.2.0/firebase-app.js">
  <link rel="modulepreload" href="https://www.gstatic.com/firebasejs/11.2.0/firebase-firestore.js">
  
  <!-- Favicon and app icons -->
  <link rel="icon" href="icon.png" type="image/png">
  <link rel="apple-touch-icon" href="icon.png">
  <meta name="theme-color" content="#ffffff">

  <!-- Preconnect to Google Fonts for faster font loading -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- Font loading with performance optimization: load with media="print" to defer, then switch to "all" on load -->
  <link 
    href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Inter:wght@400;600&family=Playfair+Display:wght@600&family=Roboto+Mono:wght@500&display=swap" 
    rel="stylesheet"
    media="print" 
    onload="this.media='all'"
  >
  
  <!-- Fallback font loading for users with JavaScript disabled -->
  <noscript>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Inter:wght@400;600&family=Playfair+Display:wght@600&family=Roboto+Mono:wght@500&display=swap" rel="stylesheet">
  </noscript>
  
<!-- Tailwind config style via tailwindcss-windows-x64.exe -i input.css -o style.css --minify -->
  <style>
  /*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */
@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-space-y-reverse:0;--tw-border-style:solid;--tw-leading:initial;--tw-font-weight:initial;--tw-tracking:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial;--tw-ease:initial}}}@layer theme{:root,:host{--font-sans:"Inter",ui-sans-serif,system-ui;--font-serif:"Playfair Display",ui-serif,Georgia;--font-mono:"Roboto Mono",ui-monospace,SFMono-Regular;--color-red-300:oklch(80.8% .114 19.571);--color-red-500:oklch(63.7% .237 25.331);--color-red-600:oklch(57.7% .245 27.325);--color-green-50:oklch(98.2% .018 155.826);--color-green-200:oklch(92.5% .084 155.995);--color-green-500:oklch(72.3% .219 149.579);--color-green-600:oklch(62.7% .194 149.214);--color-sky-50:oklch(97.7% .013 236.62);--color-sky-200:oklch(90.1% .058 230.902);--color-sky-500:oklch(68.5% .169 237.323);--color-blue-50:oklch(97% .014 254.604);--color-blue-200:oklch(88.2% .059 254.128);--color-blue-400:oklch(70.7% .165 254.624);--color-blue-500:oklch(62.3% .214 259.815);--color-blue-600:oklch(54.6% .245 262.881);--color-blue-700:oklch(48.8% .243 264.376);--color-slate-50:oklch(98.4% .003 247.858);--color-slate-100:oklch(96.8% .007 247.896);--color-slate-200:oklch(92.9% .013 255.508);--color-slate-300:oklch(86.9% .022 252.894);--color-slate-400:oklch(70.4% .04 256.788);--color-slate-500:oklch(55.4% .046 257.417);--color-slate-600:oklch(44.6% .043 257.281);--color-slate-700:oklch(37.2% .044 257.287);--color-slate-800:oklch(27.9% .041 260.031);--color-slate-900:oklch(20.8% .042 265.755);--color-gray-50:oklch(98.5% .002 247.839);--color-gray-100:oklch(96.7% .003 264.542);--color-gray-200:oklch(92.8% .006 264.531);--color-gray-400:oklch(70.7% .022 261.325);--color-gray-500:oklch(55.1% .027 264.364);--color-gray-600:oklch(44.6% .03 256.802);--color-gray-700:oklch(37.3% .034 259.733);--color-gray-800:oklch(27.8% .033 256.848);--color-gray-900:oklch(21% .034 264.665);--color-black:#000;--color-white:#fff;--spacing:.25rem;--container-sm:24rem;--container-xl:36rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-lg:1.125rem;--text-lg--line-height:calc(1.75/1.125);--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-2xl:1.5rem;--text-2xl--line-height:calc(2/1.5);--text-3xl:1.875rem;--text-3xl--line-height:calc(2.25/1.875);--text-5xl:3rem;--text-5xl--line-height:1;--font-weight-normal:400;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--tracking-tight:-.025em;--tracking-wide:.025em;--tracking-wider:.05em;--leading-snug:1.375;--leading-relaxed:1.625;--radius-lg:.5rem;--radius-xl:.75rem;--radius-2xl:1rem;--drop-shadow-lg:0 4px 4px #00000026;--ease-in:cubic-bezier(.4,0,1,1);--ease-out:cubic-bezier(0,0,.2,1);--animate-spin:spin 1s linear infinite;--animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--animate-bounce:bounce 1s infinite;--blur-sm:8px;--blur-md:12px;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono);--font-hand:"Dancing Script",cursive;--color-brand-50:#eef2ff;--color-brand-100:#e0e7ff;--color-brand-200:#c7d2fe;--color-brand-300:#a5b4fc;--color-brand-500:#3f51b5;--color-brand-600:#303f9f;--color-brand-700:#283593}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;-webkit-text-decoration:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab, red, red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){appearance:button}::file-selector-button{appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer components;@layer utilities{.pointer-events-auto{pointer-events:auto}.pointer-events-none{pointer-events:none}.invisible{visibility:hidden}.visible{visibility:visible}.sr-only{clip-path:inset(50%);white-space:nowrap;border-width:0;width:1px;height:1px;margin:-1px;padding:0;position:absolute;overflow:hidden}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:calc(var(--spacing)*0)}.top-0{top:calc(var(--spacing)*0)}.top-4{top:calc(var(--spacing)*4)}.top-14{top:calc(var(--spacing)*14)}.top-\[2px\]{top:2px}.top-full{top:100%}.right-4{right:calc(var(--spacing)*4)}.-bottom-1{bottom:calc(var(--spacing)*-1)}.-bottom-1\.5{bottom:calc(var(--spacing)*-1.5)}.bottom-10{bottom:calc(var(--spacing)*10)}.bottom-16{bottom:calc(var(--spacing)*16)}.bottom-full{bottom:100%}.left-1{left:calc(var(--spacing)*1)}.left-1\/2{left:50%}.left-3{left:calc(var(--spacing)*3)}.left-4{left:calc(var(--spacing)*4)}.left-\[2px\]{left:2px}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-40{z-index:40}.z-50{z-index:50}.z-\[100\]{z-index:100}.z-\[200\]{z-index:200}.z-\[9999\]{z-index:9999}.container{width:100%}@media (min-width:40rem){.container{max-width:40rem}}@media (min-width:48rem){.container{max-width:48rem}}@media (min-width:64rem){.container{max-width:64rem}}@media (min-width:80rem){.container{max-width:80rem}}@media (min-width:96rem){.container{max-width:96rem}}.mx-auto{margin-inline:auto}.-mt-1{margin-top:calc(var(--spacing)*-1)}.mt-0{margin-top:calc(var(--spacing)*0)}.mt-0\.5{margin-top:calc(var(--spacing)*.5)}.mt-1{margin-top:calc(var(--spacing)*1)}.mt-2{margin-top:calc(var(--spacing)*2)}.mt-3{margin-top:calc(var(--spacing)*3)}.mt-6{margin-top:calc(var(--spacing)*6)}.mt-\[1px\]{margin-top:1px}.mr-1{margin-right:calc(var(--spacing)*1)}.mr-2{margin-right:calc(var(--spacing)*2)}.mb-1{margin-bottom:calc(var(--spacing)*1)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-3{margin-bottom:calc(var(--spacing)*3)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.mb-6{margin-bottom:calc(var(--spacing)*6)}.ml-0{margin-left:calc(var(--spacing)*0)}.ml-0\.5{margin-left:calc(var(--spacing)*.5)}.ml-1{margin-left:calc(var(--spacing)*1)}.ml-2{margin-left:calc(var(--spacing)*2)}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.inline{display:inline}.inline-block{display:inline-block}.table{display:table}.h-3{height:calc(var(--spacing)*3)}.h-4{height:calc(var(--spacing)*4)}.h-5{height:calc(var(--spacing)*5)}.h-8{height:calc(var(--spacing)*8)}.h-9{height:calc(var(--spacing)*9)}.h-10{height:calc(var(--spacing)*10)}.h-12{height:calc(var(--spacing)*12)}.h-14{height:calc(var(--spacing)*14)}.h-16{height:calc(var(--spacing)*16)}.h-20{height:calc(var(--spacing)*20)}.h-24{height:calc(var(--spacing)*24)}.h-32{height:calc(var(--spacing)*32)}.h-\[68px\]{height:68px}.h-\[72px\]{height:72px}.h-\[76px\]{height:76px}.h-full{height:100%}.min-h-\[300px\]{min-height:300px}.w-1{width:calc(var(--spacing)*1)}.w-1\/2{width:50%}.w-1\/3{width:33.3333%}.w-1\/4{width:25%}.w-2{width:calc(var(--spacing)*2)}.w-2\/3{width:66.6667%}.w-3{width:calc(var(--spacing)*3)}.w-3\/4{width:75%}.w-4{width:calc(var(--spacing)*4)}.w-5{width:calc(var(--spacing)*5)}.w-8{width:calc(var(--spacing)*8)}.w-9{width:calc(var(--spacing)*9)}.w-10{width:calc(var(--spacing)*10)}.w-12{width:calc(var(--spacing)*12)}.w-16{width:calc(var(--spacing)*16)}.w-20{width:calc(var(--spacing)*20)}.w-24{width:calc(var(--spacing)*24)}.w-32{width:calc(var(--spacing)*32)}.w-64{width:calc(var(--spacing)*64)}.w-\[68px\]{width:68px}.w-\[72px\]{width:72px}.w-\[76px\]{width:76px}.w-\[85\%\]{width:85%}.w-full{width:100%}.max-w-\[90\%\]{max-width:90%}.max-w-\[95\%\]{max-width:95%}.max-w-\[300px\]{max-width:300px}.max-w-sm{max-width:var(--container-sm)}.max-w-xl{max-width:var(--container-xl)}.flex-1{flex:1}.shrink-0{flex-shrink:0}.-translate-x-1{--tw-translate-x:calc(var(--spacing)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-x-1\/2{--tw-translate-x:calc(calc(1/2*100%)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.scale-95{--tw-scale-x:95%;--tw-scale-y:95%;--tw-scale-z:95%;scale:var(--tw-scale-x)var(--tw-scale-y)}.rotate-45{rotate:45deg}.transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.animate-\[popIn_0\.2s_ease-out\]{animation:.2s ease-out popIn}.animate-bounce{animation:var(--animate-bounce)}.animate-pulse{animation:var(--animate-pulse)}.animate-spin{animation:var(--animate-spin)}.cursor-help{cursor:help}.cursor-pointer{cursor:pointer}.cursor-text{cursor:text}.resize-none{resize:none}.list-disc{list-style-type:disc}.appearance-none{appearance:none}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.items-center{align-items:center}.items-start{align-items:flex-start}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.gap-1{gap:calc(var(--spacing)*1)}.gap-1\.5{gap:calc(var(--spacing)*1.5)}.gap-2{gap:calc(var(--spacing)*2)}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}.gap-5{gap:calc(var(--spacing)*5)}:where(.space-y-1>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-3>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*3)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-4>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*4)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*4)*calc(1 - var(--tw-space-y-reverse)))}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.scroll-smooth{scroll-behavior:smooth}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:var(--radius-2xl)}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius-lg)}.rounded-none{border-radius:0}.rounded-xl{border-radius:var(--radius-xl)}.rounded-tl-none{border-top-left-radius:0}.border{border-style:var(--tw-border-style);border-width:1px}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-8{border-style:var(--tw-border-style);border-width:8px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-r{border-right-style:var(--tw-border-style);border-right-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-b-2{border-bottom-style:var(--tw-border-style);border-bottom-width:2px}.border-dashed{--tw-border-style:dashed;border-style:dashed}.border-none{--tw-border-style:none;border-style:none}.border-blue-200{border-color:var(--color-blue-200)}.border-brand-500{border-color:var(--color-brand-500)}.border-gray-100{border-color:var(--color-gray-100)}.border-gray-200{border-color:var(--color-gray-200)}.border-green-200{border-color:var(--color-green-200)}.border-sky-200{border-color:var(--color-sky-200)}.border-slate-50{border-color:var(--color-slate-50)}.border-slate-100{border-color:var(--color-slate-100)}.border-slate-200{border-color:var(--color-slate-200)}.border-slate-400{border-color:var(--color-slate-400)}.border-transparent{border-color:#0000}.border-t-white{border-top-color:var(--color-white)}.border-b-brand-500{border-bottom-color:var(--color-brand-500)}.border-b-transparent{border-bottom-color:#0000}.bg-black{background-color:var(--color-black)}.bg-black\/60{background-color:#0009}@supports (color:color-mix(in lab, red, red)){.bg-black\/60{background-color:color-mix(in oklab,var(--color-black)60%,transparent)}}.bg-blue-50{background-color:var(--color-blue-50)}.bg-blue-600{background-color:var(--color-blue-600)}.bg-brand-50{background-color:var(--color-brand-50)}.bg-brand-500{background-color:var(--color-brand-500)}.bg-gray-50{background-color:var(--color-gray-50)}.bg-gray-50\/50{background-color:#f9fafb80}@supports (color:color-mix(in lab, red, red)){.bg-gray-50\/50{background-color:color-mix(in oklab,var(--color-gray-50)50%,transparent)}}.bg-gray-100{background-color:var(--color-gray-100)}.bg-gray-800{background-color:var(--color-gray-800)}.bg-green-50{background-color:var(--color-green-50)}.bg-sky-50{background-color:var(--color-sky-50)}.bg-slate-50{background-color:var(--color-slate-50)}.bg-slate-100{background-color:var(--color-slate-100)}.bg-slate-200{background-color:var(--color-slate-200)}.bg-slate-900{background-color:var(--color-slate-900)}.bg-transparent{background-color:#0000}.bg-white{background-color:var(--color-white)}.bg-white\/80{background-color:#fffc}@supports (color:color-mix(in lab, red, red)){.bg-white\/80{background-color:color-mix(in oklab,var(--color-white)80%,transparent)}}.bg-white\/95{background-color:#fffffff2}@supports (color:color-mix(in lab, red, red)){.bg-white\/95{background-color:color-mix(in oklab,var(--color-white)95%,transparent)}}.fill-none{fill:none}.fill-red-500{fill:var(--color-red-500)}.p-0{padding:calc(var(--spacing)*0)}.p-2{padding:calc(var(--spacing)*2)}.p-3{padding:calc(var(--spacing)*3)}.p-4{padding:calc(var(--spacing)*4)}.p-6{padding:calc(var(--spacing)*6)}.px-1{padding-inline:calc(var(--spacing)*1)}.px-2{padding-inline:calc(var(--spacing)*2)}.px-4{padding-inline:calc(var(--spacing)*4)}.px-6{padding-inline:calc(var(--spacing)*6)}.py-0{padding-block:calc(var(--spacing)*0)}.py-0\.5{padding-block:calc(var(--spacing)*.5)}.py-1{padding-block:calc(var(--spacing)*1)}.py-1\.5{padding-block:calc(var(--spacing)*1.5)}.py-2{padding-block:calc(var(--spacing)*2)}.py-2\.5{padding-block:calc(var(--spacing)*2.5)}.py-3{padding-block:calc(var(--spacing)*3)}.py-3\.5{padding-block:calc(var(--spacing)*3.5)}.py-6{padding-block:calc(var(--spacing)*6)}.py-8{padding-block:calc(var(--spacing)*8)}.py-10{padding-block:calc(var(--spacing)*10)}.py-12{padding-block:calc(var(--spacing)*12)}.py-20{padding-block:calc(var(--spacing)*20)}.pt-3{padding-top:calc(var(--spacing)*3)}.pt-5{padding-top:calc(var(--spacing)*5)}.pt-8{padding-top:calc(var(--spacing)*8)}.pb-3{padding-bottom:calc(var(--spacing)*3)}.pb-4{padding-bottom:calc(var(--spacing)*4)}.pb-6{padding-bottom:calc(var(--spacing)*6)}.pb-24{padding-bottom:calc(var(--spacing)*24)}.pl-3{padding-left:calc(var(--spacing)*3)}.pl-4{padding-left:calc(var(--spacing)*4)}.text-center{text-align:center}.text-left{text-align:left}.font-hand{font-family:var(--font-hand)}.font-mono{font-family:var(--font-mono)}.font-sans{font-family:var(--font-sans)}.font-serif{font-family:var(--font-serif)}.text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.text-5xl{font-size:var(--text-5xl);line-height:var(--tw-leading,var(--text-5xl--line-height))}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.text-\[10px\]{font-size:10px}.text-\[11px\]{font-size:11px}.text-\[13px\]{font-size:13px}.text-\[14px\]{font-size:14px}.text-\[15px\]{font-size:15px}.text-\[16px\]{font-size:16px}.leading-none{--tw-leading:1;line-height:1}.leading-relaxed{--tw-leading:var(--leading-relaxed);line-height:var(--leading-relaxed)}.leading-snug{--tw-leading:var(--leading-snug);line-height:var(--leading-snug)}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-normal{--tw-font-weight:var(--font-weight-normal);font-weight:var(--font-weight-normal)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.tracking-tight{--tw-tracking:var(--tracking-tight);letter-spacing:var(--tracking-tight)}.tracking-wide{--tw-tracking:var(--tracking-wide);letter-spacing:var(--tracking-wide)}.tracking-wider{--tw-tracking:var(--tracking-wider);letter-spacing:var(--tracking-wider)}.break-words{overflow-wrap:break-word}.break-keep{word-break:keep-all}.whitespace-pre-wrap{white-space:pre-wrap}.text-blue-400{color:var(--color-blue-400)}.text-blue-500{color:var(--color-blue-500)}.text-blue-600{color:var(--color-blue-600)}.text-blue-700{color:var(--color-blue-700)}.text-brand-500{color:var(--color-brand-500)}.text-brand-600{color:var(--color-brand-600)}.text-gray-400{color:var(--color-gray-400)}.text-gray-500{color:var(--color-gray-500)}.text-gray-800{color:var(--color-gray-800)}.text-gray-900{color:var(--color-gray-900)}.text-green-600{color:var(--color-green-600)}.text-red-300{color:var(--color-red-300)}.text-red-500{color:var(--color-red-500)}.text-red-600{color:var(--color-red-600)}.text-sky-500{color:var(--color-sky-500)}.text-slate-300{color:var(--color-slate-300)}.text-slate-400{color:var(--color-slate-400)}.text-slate-500{color:var(--color-slate-500)}.text-slate-600{color:var(--color-slate-600)}.text-slate-700{color:var(--color-slate-700)}.text-slate-800{color:var(--color-slate-800)}.text-slate-900{color:var(--color-slate-900)}.text-white{color:var(--color-white)}.uppercase{text-transform:uppercase}.italic{font-style:italic}.underline{text-decoration-line:underline}.decoration-brand-300{-webkit-text-decoration-color:var(--color-brand-300);-webkit-text-decoration-color:var(--color-brand-300);text-decoration-color:var(--color-brand-300)}.decoration-dotted{text-decoration-style:dotted}.decoration-1{text-decoration-thickness:1px}.underline-offset-4{text-underline-offset:4px}.placeholder-gray-400::placeholder{color:var(--color-gray-400)}.placeholder-slate-400::placeholder{color:var(--color-slate-400)}.opacity-0{opacity:0}.opacity-30{opacity:.3}.opacity-50{opacity:.5}.shadow-2xl{--tw-shadow:0 25px 50px -12px var(--tw-shadow-color,#00000040);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,#0000001a),0 8px 10px -6px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-2{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-brand-500{--tw-ring-color:var(--color-brand-500)}.ring-offset-1{--tw-ring-offset-width:1px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color)}.blur{--tw-blur:blur(8px);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.drop-shadow-lg{--tw-drop-shadow-size:drop-shadow(0 4px 4px var(--tw-drop-shadow-color,#00000026));--tw-drop-shadow:drop-shadow(var(--drop-shadow-lg));filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.backdrop-blur{--tw-backdrop-blur:blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-blur-md{--tw-backdrop-blur:blur(var(--blur-md));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-blur-sm{--tw-backdrop-blur:blur(var(--blur-sm));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.duration-200{--tw-duration:.2s;transition-duration:.2s}.duration-300{--tw-duration:.3s;transition-duration:.3s}.duration-500{--tw-duration:.5s;transition-duration:.5s}.ease-in{--tw-ease:var(--ease-in);transition-timing-function:var(--ease-in)}.ease-out{--tw-ease:var(--ease-out);transition-timing-function:var(--ease-out)}.outline-none{--tw-outline-style:none;outline-style:none}.select-none{-webkit-user-select:none;user-select:none}.group-focus-within\:visible:is(:where(.group):focus-within *){visibility:visible}.group-focus-within\:border-slate-100:is(:where(.group):focus-within *){border-color:var(--color-slate-100)}.group-focus-within\:opacity-100:is(:where(.group):focus-within *){opacity:1}@media (hover:hover){.group-hover\:pointer-events-auto:is(:where(.group):hover *){pointer-events:auto}.group-hover\:visible:is(:where(.group):hover *){visibility:visible}.group-hover\:-rotate-12:is(:where(.group):hover *){rotate:-12deg}.group-hover\:text-red-500:is(:where(.group):hover *){color:var(--color-red-500)}.group-hover\:opacity-100:is(:where(.group):hover *){opacity:1}}.peer-checked\:translate-x-full:is(:where(.peer):checked~*){--tw-translate-x:100%;translate:var(--tw-translate-x)var(--tw-translate-y)}.peer-checked\:bg-brand-500:is(:where(.peer):checked~*){background-color:var(--color-brand-500)}.focus-within\:border-brand-200:focus-within{border-color:var(--color-brand-200)}.focus-within\:ring-2:focus-within{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus-within\:ring-brand-500\/10:focus-within{--tw-ring-color:#3f51b51a}@supports (color:color-mix(in lab, red, red)){.focus-within\:ring-brand-500\/10:focus-within{--tw-ring-color:color-mix(in oklab,var(--color-brand-500)10%,transparent)}}@media (hover:hover){.hover\:scale-110:hover{--tw-scale-x:110%;--tw-scale-y:110%;--tw-scale-z:110%;scale:var(--tw-scale-x)var(--tw-scale-y)}.hover\:border-black:hover{border-color:var(--color-black)}.hover\:border-blue-500:hover{border-color:var(--color-blue-500)}.hover\:border-blue-700:hover{border-color:var(--color-blue-700)}.hover\:border-green-500:hover{border-color:var(--color-green-500)}.hover\:border-sky-500:hover{border-color:var(--color-sky-500)}.hover\:border-slate-800:hover{border-color:var(--color-slate-800)}.hover\:bg-black:hover{background-color:var(--color-black)}.hover\:bg-blue-500:hover{background-color:var(--color-blue-500)}.hover\:bg-blue-700:hover{background-color:var(--color-blue-700)}.hover\:bg-brand-600:hover{background-color:var(--color-brand-600)}.hover\:bg-gray-50:hover{background-color:var(--color-gray-50)}.hover\:bg-gray-100:hover{background-color:var(--color-gray-100)}.hover\:bg-gray-200:hover{background-color:var(--color-gray-200)}.hover\:bg-gray-700:hover{background-color:var(--color-gray-700)}.hover\:bg-green-500:hover{background-color:var(--color-green-500)}.hover\:bg-sky-500:hover{background-color:var(--color-sky-500)}.hover\:bg-slate-50:hover{background-color:var(--color-slate-50)}.hover\:bg-slate-100:hover{background-color:var(--color-slate-100)}.hover\:bg-slate-800:hover{background-color:var(--color-slate-800)}.hover\:text-blue-400:hover{color:var(--color-blue-400)}.hover\:text-brand-700:hover{color:var(--color-brand-700)}.hover\:text-gray-600:hover{color:var(--color-gray-600)}.hover\:text-red-500:hover{color:var(--color-red-500)}.hover\:text-slate-600:hover{color:var(--color-slate-600)}.hover\:text-slate-700:hover{color:var(--color-slate-700)}.hover\:text-white:hover{color:var(--color-white)}.hover\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}}.focus\:ring-0:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(0px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.active\:scale-95:active{--tw-scale-x:95%;--tw-scale-y:95%;--tw-scale-z:95%;scale:var(--tw-scale-x)var(--tw-scale-y)}.active\:scale-125:active{--tw-scale-x:125%;--tw-scale-y:125%;--tw-scale-z:125%;scale:var(--tw-scale-x)var(--tw-scale-y)}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:opacity-50:disabled{opacity:.5}@media (min-width:48rem){.md\:flex{display:flex}.md\:hidden{display:none}.md\:h-screen{height:100vh}.md\:max-w-xl{max-width:var(--container-xl)}@media (hover:hover){.md\:hover\:border-brand-200:hover{border-color:var(--color-brand-200)}.md\:hover\:bg-brand-100:hover{background-color:var(--color-brand-100)}.md\:hover\:shadow-sm:hover{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}}}@media (min-width:64rem){.lg\:border-b-\[1px\]{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.lg\:border-slate-200{border-color:var(--color-slate-200)}.lg\:border-slate-300{border-color:var(--color-slate-300)}}.\[\&\:\:-webkit-search-cancel-button\]\:hidden::-webkit-search-cancel-button{display:none}}textarea,input{cursor:url("data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><path fill=\"black\" d=\"M10 2h2v1h-3v10h3v1h-8v-1h3V3H4V2h6z\"/></svg>") 8 8,text;word-break:keep-all}#loadTrigger{visibility:hidden;justify-content:center;align-items:center;width:100%;min-height:50px;transition:opacity .3s;display:flex}*{box-sizing:border-box}html,body,#feedList,textarea{scrollbar-width:none!important;-ms-overflow-style:none!important}html::-webkit-scrollbar{display:none!important}body::-webkit-scrollbar{display:none!important}#feedList::-webkit-scrollbar{display:none!important}textarea::-webkit-scrollbar{display:none!important}img,video,canvas{max-width:100%;height:auto}html{width:100%;height:auto!important;overflow:visible!important}body{scroll-behavior:smooth;-webkit-font-smoothing:antialiased;overscroll-behavior-y:contain;touch-action:pan-y pinch-zoom;width:100%;margin:0;padding:0;height:auto!important;overflow:visible!important}header{z-index:100;will-change:transform;backface-visibility:hidden;background:#fff;height:56px;position:fixed;top:0;left:0;right:0;transform:translateZ(0)}section.group{scroll-snap-align:start;scroll-snap-stop:always;z-index:10;background:#fff;min-height:auto;padding-top:56px;scroll-margin-top:0;transition:transform .3s;position:relative;margin-top:0!important}.sticky{z-index:40}#feedList{scroll-snap-type:y proximity;will-change:transform,opacity;backface-visibility:hidden;width:100%;transform-style:preserve-3d;flex-direction:column;padding-bottom:20vh;transition:transform .3s,opacity .3s;display:flex}.feed-item{scroll-snap-align:start;width:100%;scroll-margin-top:112px!important}@media (max-width:768px){#tabs{z-index:50;top:56px}}main.max-w-xl.mx-auto{height:auto!important;overflow:visible!important}@media (max-width:768px){header{will-change:auto;transform:none!important}}#tabs{z-index:50;will-change:transform;backface-visibility:hidden;background:#fff;width:100%;max-width:36rem;height:56px;position:fixed;top:56px;left:50%;transform:translate(-50%)}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}#commentModal:not(.hidden) #closeModalOverlay{animation:.3s ease-out forwards fadeIn}@keyframes slideUp{0%{opacity:0;transform:translateY(100%)}to{opacity:1;transform:translateY(0)}}#commentModal:not(.hidden) #modalCard{animation:.3s cubic-bezier(.16,1,.3,1) forwards slideUp}@keyframes popIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.comment-bubble{animation:.2s ease-out forwards popIn}.share-trigger-btn{color:#94a3b8;cursor:pointer;background-color:#f8fafc;border:1px solid #f1f5f9;border-radius:9999px;justify-content:center;align-items:center;width:32px;height:32px;transition:all .2s;display:flex}.share-trigger-btn:hover,.share-trigger-btn.active{color:#4f46e5;background-color:#eef2ff;border-color:#c7d2fe;transform:scale(1.05)}.share-menu{-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);z-index:50;opacity:0;visibility:hidden;transform-origin:100% 100%;pointer-events:none;background-color:#fffffff2;border:1px solid #f1f5f9;border-radius:9999px;gap:6px;margin-bottom:8px;padding:6px;transition:all .25s cubic-bezier(.16,1,.3,1);display:flex;position:absolute;bottom:100%;right:0;transform:translateY(10px)scale(.95);box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.share-menu.active{opacity:1;visibility:visible;pointer-events:auto;transform:translateY(0)scale(1)}.share-icon-btn{cursor:pointer;border:1px solid #e2e8f0;border-radius:50%;justify-content:center;align-items:center;width:34px;height:34px;transition:transform .2s,background-color .2s,color .2s;display:flex}.share-icon-btn:hover{transform:translateY(-2px)}.share-icon-btn:active{transform:scale(.95)}.toast-glass{-webkit-backdrop-filter:blur(8px);color:#1e293b;background:#ffffffe6;border:1px solid #0000000d;box-shadow:0 10px 15px -3px #0000000d,0 4px 6px -2px #00000005}@keyframes toastSlideUp{0%{opacity:0;transform:translateY(40px)scale(.9)}to{opacity:1;transform:translateY(0)scale(1)}}@keyframes toastFadeDown{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(20px)}}.toast-enter{animation:.4s cubic-bezier(.18,.89,.32,1.28) forwards toastSlideUp}.toast-exit{animation:.3s ease-in forwards toastFadeDown}#custom-dialog{opacity:0;pointer-events:none;transition:opacity .15s ease-out}#custom-dialog .relative{transition:transform .2s cubic-bezier(.16,1,.3,1);transform:scale(.9)}#custom-dialog.dialog-open{opacity:1!important;pointer-events:auto!important}#custom-dialog.dialog-open .relative{transform:scale(1)!important}@media (orientation:landscape) and (max-device-width:932px){#orientation-shield{display:flex!important}#app-container{display:none!important}}.post-body a{overflow-wrap:break-word;word-break:break-word;-webkit-text-decoration-skip-ink:auto;text-decoration-skip-ink:auto}#link-exit-modal{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:9999;background:#000000b3;justify-content:center;align-items:center;padding:20px;display:none;position:fixed;inset:0}.modal-content{text-align:center;background:#1a1a1a;border:1px solid #333;border-radius:12px;width:100%;max-width:400px;padding:24px}.modal-btn{cursor:pointer;border-radius:8px;padding:10px 20px;font-weight:600;transition:all .2s}@keyframes pulse{50%{opacity:.5}}@keyframes shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.fade-in{animation:.7s cubic-bezier(.25,.8,.25,1) forwards fadeIn}.slide-in-from-top-4{animation:.6s cubic-bezier(.22,1,.36,1) forwards slideInFromTop}@keyframes slideInFromTop{0%{opacity:0;transform:translateY(-1.5rem)}to{opacity:1;transform:translateY(0)}}.animate-in{animation:.7s cubic-bezier(.22,1,.36,1) forwards combinedFadeSlide}@keyframes combinedFadeSlide{0%{opacity:0;will-change:transform,opacity;transform:translateY(-1.5rem)}60%{opacity:1;will-change:transform,opacity;transform:translateY(.2rem)}80%{opacity:1;transform:translateY(.1rem)}to{opacity:1;will-change:auto;transform:translateY(0)}}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-tracking{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@property --tw-ease{syntax:"*";inherits:false}@keyframes spin{to{transform:rotate(360deg)}}@keyframes bounce{0%,to{animation-timing-function:cubic-bezier(.8,0,1,1);transform:translateY(-25%)}50%{animation-timing-function:cubic-bezier(0,0,.2,1);transform:none}}
  </style>

</head>

<!-- 
  Continuing from the head section...
  The body contains the main content of the app, including a mobile orientation warning,
  external scripts for utilities, inline config loading, and the fixed header.
-->

<body class="bg-white text-slate-900 pb-24">
  <!-- 
    Orientation Shield: Displays a full-screen overlay on mobile devices in landscape mode.
    Encourages users to rotate to portrait for optimal viewing, as the app is designed for portrait.
  -->
  <div id="orientation-shield" class="fixed inset-0 z-[9999] hidden flex-col items-center justify-center bg-slate-900 text-center p-6">
    <div class="text-5xl mb-4 animate-bounce">ðŸ“±</div>
    <h2 class="text-xl font-bold text-white">Please Rotate Your Device</h2>
    <p class="text-slate-400 mt-2 text-sm">Engine is optimized for Portrait Mode.</p>
  </div>

  <!-- 
    External scripts: Loaded synchronously for security and utility functions.
    - Punycode: Handles Unicode domain encoding/decoding.
    - DOMPurify: Sanitizes HTML to prevent XSS attacks.
  -->
  <script src="https://cdn.jsdelivr.net/npm/punycode@1.4.1/punycode.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.2.4/purify.min.js"></script>

  <!-- 
    Inline script: Loads user preferences from localStorage into a global config object.
    This config is used throughout the app for font, tab, and visibility settings.
    Note: Font class is not applied here to prevent leakage to header/buttons/footer.
  -->
  <script>
    (function() {
      // Helper function to get localStorage value with fallback
      const get = (key, fallback) => localStorage.getItem(key) || fallback;
      
      // Load configuration data instantly
      const config = {
        font: get('freeform_font_pref', 'font-sans'),
        tab: get('freeform_tab_pref', 'private'),
        isPublic: get('freeform_toggle_pref', 'false') === 'true'
      };
      
      // Make config globally available
      window.__FREEFORM_CONFIG__ = config;
    })();
  </script>
  
  <!-- Script to dynamically set the current year in the footer -->
  <script>document.getElementById("year").textContent = new Date().getFullYear();</script>

  <!-- Load the main application JavaScript module -->
  <script type="module" src="app.js"></script>

  <!-- 
    Header: Fixed at the top of the page with a semi-transparent background and blur effect.
    Contains the app title (clickable to scroll to top) and storage info display.
  -->
  <header class="fixed top-0 w-full bg-white/80 backdrop-blur-md border-b border-slate-200 z-50">
    <div class="max-w-xl mx-auto px-4 h-14 flex items-center justify-between">
      <!-- App title: Clickable to scroll to top of page -->
      <h1 class="text-xl font-bold text-brand-500 tracking-tight cursor-pointer" onclick="window.scrollTo(0,0)">Freeform</h1>
      <!-- Storage info: Displays calculated storage usage (updated dynamically) -->
      <div class="text-xs text-slate-600 font-mono" id="storageInfo">Calc...</div>
    </div>
  </header>

<!-- 
  The main content area includes the input section for creating new posts.
-->

<main class="max-w-xl mx-auto">
  <!-- Spacer to account for the fixed header height -->
  <div class="h-14"></div>
    
  <!-- 1. INPUT AREA: Main section for composing new posts -->
  <section class="group bg-white p-4 border-slate-100 lg:border-slate-300 border-b mb-6 transition-all duration-300 cursor-text w-full"
  onclick="document.getElementById('postInput').focus()">
    
    <div class="flex flex-col gap-2 mt-2">
      <!-- Textarea for user input: Auto-resizing, focused on click, with placeholder -->
      <textarea id="postInput" rows="2" 
  class="w-full bg-transparent border-none focus:ring-0 outline-none text-[15px] placeholder-slate-400 text-slate-700 resize-none p-0 leading-relaxed font-sans transition-all duration-200 mt-2" 
  placeholder="What's on your mind?"></textarea>
      
      <!-- Font Toolbar: Buttons to select font styles for the input text -->
      <div class="flex items-center gap-4 p-2 overflow-x-auto no-scrollbar" id="fontToolbar">
        <!-- Sans-serif font button (default, highlighted) -->
        <button class="font-btn w-8 h-8 rounded-full border border-slate-200 bg-slate-50 flex items-center justify-center hover:bg-slate-100 transition-all ring-2 ring-brand-500 ring-offset-1 shrink-0" data-font="font-sans">
          <span class="font-sans text-xs font-bold">Aa</span>
        </button>

        <!-- Serif font button -->
        <button class="font-btn w-8 h-8 rounded-full border border-slate-200 bg-slate-50 flex items-center justify-center hover:bg-slate-100 transition-all shrink-0" data-font="font-serif">
          <span class="font-serif text-xs font-bold">Aa</span>
        </button>

        <!-- Monospace font button -->
        <button class="font-btn w-8 h-8 rounded-full border border-slate-200 bg-slate-50 flex items-center justify-center hover:bg-slate-100 transition-all shrink-0" data-font="font-mono">
          <span class="font-mono text-xs font-bold">Aa</span>
        </button>

        <!-- Handwritten font button -->
        <button class="font-btn w-8 h-8 rounded-full border border-slate-200 bg-slate-50 flex items-center justify-center hover:bg-slate-100 transition-all shrink-0" data-font="font-hand">
          <span class="font-hand text-xs font-bold">Aa</span>
        </button>
      </div>

      <!-- Bottom controls: Public/Private toggle and Post button -->
      <div class="flex items-center justify-between mt-1 pt-3 border-t border-slate-50 lg:border-slate-200 group-focus-within:border-slate-100 transition-colors">
        <!-- Public/Private toggle: Checkbox with custom styling -->
        <label class="flex items-center cursor-pointer gap-2 select-none">
          <div class="relative">
            <input type="checkbox" id="publicToggle" class="sr-only peer">
            <div class="w-9 h-5 bg-slate-200 rounded-full peer peer-checked:bg-brand-500 transition-all"></div>
            <div class="absolute top-[2px] left-[2px] bg-white shadow-sm rounded-full h-4 w-4 transition-all peer-checked:translate-x-full"></div>
          </div>
          <!-- Label updates dynamically to show "Private" or "Public" -->
          <span id="publicLabel" class="text-xs font-semibold text-slate-500 transition-colors">Private</span>
        </label>

        <!-- Post button: Submits the new post -->
        <button id="postBtn" 
          class="bg-brand-500 hover:bg-brand-600 active:scale-95 text-white font-medium py-1.5 px-6 rounded-full text-sm transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed">
          Post
        </button>
      </div>
    </div>
  </section>

<!-- 
  The tabs section allows switching between public/global feed and private archive.
-->

  <!-- 2. TABS AREA: Sticky navigation tabs for switching between public and private views -->
  <div id="tabs" class="flex mb-6 h-14 border-b border-slate-200 lg:border-slate-300 sticky top-14 bg-white/95 backdrop-blur z-40 w-full" data-sticky>
    <!-- Public Tab: Displays global discovery feed of shared posts -->
    <button id="tabPublic" 
      onclick="switchTab('public')"
      style="padding-top: 12px; padding-bottom: 12px;"
      class="flex-1 flex items-center justify-center text-sm font-semibold text-slate-500 hover:text-slate-700 border-b-2 border-b-transparent transition-all">
      Discover Global
    </button>

    <!-- Private Tab: Displays user's personal archive (default active) -->
    <button id="tabPrivate" 
      onclick="switchTab('private')" 
      style="padding-top: 12px; padding-bottom: 12px;"
      class="flex-1 flex items-center justify-center text-sm font-bold text-brand-600 border-b-2 border-b-brand-500 transition-all">
      My Archive
    </button>
  </div>

<!-- 
  The feed area displays posts, with skeleton loaders during initial load and an infinite scroll trigger.
-->

  <!-- 3. FEED AREA: Container for displaying posts in a list -->
  <div id="feedList" class="bg-white min-h-[300px] flex flex-col w-full">
    
    <!-- Skeleton Loader 1: Animated placeholder for loading state -->
    <div class="bg-white px-4 py-6 border-b border-slate-100 animate-pulse">
        <div class="flex items-center gap-2 mb-4"> 
          <!-- Placeholder for timestamp -->
          <div class="h-4 bg-slate-100 rounded w-16"></div> 
          <!-- Placeholder for additional info (e.g., font indicator) -->
          <div class="h-3 bg-slate-50 rounded w-12"></div> 
        </div>
        <div class="space-y-3">
            <!-- Placeholder for post content lines -->
            <div class="h-4 bg-slate-100 rounded w-3/4"></div>
            <div class="h-4 bg-slate-100 rounded w-1/2"></div>
        </div>
    </div>
      
    <!-- Skeleton Loader 2: Another animated placeholder -->
    <div class="bg-white px-4 py-6 border-b border-slate-100 animate-pulse">
        <div class="flex items-center gap-2 mb-4">
            <div class="h-4 bg-slate-100 rounded w-16"></div>
        </div>
        <div class="space-y-3">
            <div class="h-4 bg-slate-100 rounded w-2/3"></div>
            <div class="h-4 bg-slate-100 rounded w-1/3"></div>
        </div>
    </div>

    <!-- Skeleton Loader 3: Third animated placeholder -->
    <div class="bg-white px-4 py-6 border-b border-slate-100 animate-pulse">
        <div class="flex items-center gap-2 mb-4">
            <div class="h-4 bg-slate-100 rounded w-16"></div>
        </div>
        <div class="space-y-3">
            <div class="h-4 bg-slate-100 rounded w-full"></div>
            <div class="h-4 bg-slate-100 rounded w-1/4"></div>
        </div>
    </div>
    
  </div>

  <!-- INFINITE SCROLL TRIGGER: Invisible element at bottom to trigger loading more posts -->
  <div id="loadTrigger" class="h-20 flex items-center justify-center text-slate-400 text-sm opacity-0 transition-opacity duration-300">
    <!-- Loading spinner and text -->
    <div class="animate-spin rounded-full h-5 w-5 border-b-2 border-slate-400 mr-2"></div> Loading more...
  </div>

</main>

<!-- 
  The footer includes a disclaimer tooltip and copyright information.
-->

  <!-- Footer: Contains legal info, disclaimer, and copyright -->
  <footer class="max-w-xl mx-auto px-4 py-8 text-center text-slate-500 text-xs relative">
    <!-- Disclaimer Tooltip: Hover/focus to reveal info about privacy and storage -->
    <div class="group inline-block relative mb-4 cursor-help outline-none" tabindex="0">
      <span class="text-brand-500 underline decoration-dotted decoration-brand-300 underline-offset-4">Disclaimer & Info</span>
      <!-- Tooltip content: Visible on hover/focus with transition -->
      <div class="invisible group-hover:visible group-focus-within:visible opacity-0 group-hover:opacity-100 group-focus-within:opacity-100 transition-all duration-200 absolute bottom-full left-1/2 -translate-x-1/2 mb-3 w-64 bg-white text-slate-600 text-left p-4 rounded-lg shadow-xl border border-slate-200 z-50 pointer-events-none group-hover:pointer-events-auto">
        <p class="font-bold text-slate-800 mb-2">Local by Default:</p>
        <ul class="list-disc pl-4 space-y-1">
          <li><strong>Private by Default</strong> â€“ Stays on device unless Public Mode is enabled.</li>
          <li><strong>Optional Sharing</strong> â€“ Enable Public Mode to upload to archive.</li>
          <li><strong>5MB Limit</strong> â€“ Uses browser local storage.</li>
        </ul>
        <!-- Tooltip arrow -->
        <div class="absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-8 border-transparent border-t-white"></div>
      </div>
    </div>
    <!-- Copyright: Dynamic year updated via JavaScript -->
    <p>&copy;<span id="year"></span> My Freeform</p>
  </footer>

<!-- 
  Comment Modal: Overlay modal for viewing and interacting with comments on a post.
  Appears as a full-screen overlay on mobile, card-style on desktop.
-->

<div id="commentModal" class="fixed inset-0 z-[100] hidden flex items-center justify-center">
  <!-- Modal Overlay: Semi-transparent background with blur for focus -->
  <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" id="closeModalOverlay"></div>
  
  <!-- Modal Card: Main content container -->
  <div id="modalCard" class="relative w-full h-full md:max-w-xl md:h-screen bg-white shadow-2xl flex flex-col overflow-hidden">
    
    <!-- Modal Header: Title and close button -->
    <div class="flex items-center justify-between px-4 py-3 border-b border-gray-100 bg-white z-10 shrink-0">
      <h3 class="font-bold text-gray-800 text-sm tracking-wide">COMMENTS</h3>
      <button id="closeModalBtn" class="w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 text-gray-500 hover:bg-gray-200 transition-colors">âœ•</button>
    </div>

    <!-- Modal Content: Scrollable area for post and comments -->
    <div class="flex-1 overflow-y-auto bg-white scroll-smooth no-scrollbar" id="modalScrollArea">
      <!-- Original Post Section: Displays the post being commented on -->
      <div class="p-6 border-b border-gray-100 bg-gray-50/50">
        <div class="text-xs text-brand-500 font-bold mb-2 uppercase tracking-wider">Original Post</div>
        <p id="modalPostContent" class="text-gray-900 text-[15px] leading-relaxed whitespace-pre-wrap"></p>
        <div class="text-xs text-gray-400 mt-3" id="modalPostDate">...</div>
      </div>

      <!-- Comments List: Container for displaying individual comments -->
      <div id="commentsList" class="p-4 space-y-4 pb-4"></div>
    </div>

 <!-- 
  Comment Input Section: Allows users to add new comments with emoji reactions.
-->

    <!-- Comment Input Section: Fixed at bottom of modal -->
    <div class="p-3 border-t border-gray-100 bg-white shrink-0 relative z-20">

      <!-- ðŸ“± MOBILE ONLY: Emoji Bar - Visible on mobile, hidden on desktop -->
      <div class="md:hidden flex justify-between items-center w-full mb-3 px-1 select-none" id="mobileEmojiBar">
        <!-- Emoji buttons for quick reactions on mobile -->
        <button class="emoji-btn w-8 h-8 flex items-center justify-center text-xl active:scale-125 transition-transform" data-char="â¤ï¸">â¤ï¸</button>
        <button class="emoji-btn w-8 h-8 flex items-center justify-center text-xl active:scale-125 transition-transform" data-char="âœ…">âœ…</button>
        <button class="emoji-btn w-8 h-8 flex items-center justify-center text-xl active:scale-125 transition-transform" data-char="âœ¨">âœ¨</button>
        <button class="emoji-btn w-8 h-8 flex items-center justify-center text-xl active:scale-125 transition-transform" data-char="ðŸ˜­">ðŸ˜­</button>
        <button class="emoji-btn w-8 h-8 flex items-center justify-center text-xl active:scale-125 transition-transform" data-char="ðŸ”¥">ðŸ”¥</button>
        <button class="emoji-btn w-8 h-8 flex items-center justify-center text-xl active:scale-125 transition-transform" data-char="ðŸ˜‚">ðŸ˜‚</button>
        <button class="emoji-btn w-8 h-8 flex items-center justify-center text-xl active:scale-125 transition-transform" data-char="ðŸ˜Š">ðŸ˜Š</button>
        <button class="emoji-btn w-8 h-8 flex items-center justify-center text-xl active:scale-125 transition-transform" data-char="ðŸ’€">ðŸ’€</button>
      </div>

      <!-- ðŸ’» DESKTOP ONLY: Emoji Popup - Hidden by default, shown on trigger -->
      <div id="desktopEmojiPopup" class="hidden absolute bottom-16 left-4 bg-white border border-gray-100 shadow-xl rounded-2xl p-2 z-50 animate-[popIn_0.2s_ease-out]">
        <div class="grid grid-cols-4 gap-1">
          <!-- Same emojis in a grid for desktop popup -->
          <button class="emoji-btn w-10 h-10 hover:bg-gray-50 rounded-lg text-xl transition-colors" data-char="â¤ï¸">â¤ï¸</button>
          <button class="emoji-btn w-10 h-10 hover:bg-gray-50 rounded-lg text-xl transition-colors" data-char="âœ…">âœ…</button>
          <button class="emoji-btn w-10 h-10 hover:bg-gray-50 rounded-lg text-xl transition-colors" data-char="âœ¨">âœ¨</button>
          <button class="emoji-btn w-10 h-10 hover:bg-gray-50 rounded-lg text-xl transition-colors" data-char="ðŸ˜­">ðŸ˜­</button>
          <button class="emoji-btn w-10 h-10 hover:bg-gray-50 rounded-lg text-xl transition-colors" data-char="ðŸ”¥">ðŸ”¥</button>
          <button class="emoji-btn w-10 h-10 hover:bg-gray-50 rounded-lg text-xl transition-colors" data-char="ðŸ˜‚">ðŸ˜‚</button>
          <button class="emoji-btn w-10 h-10 hover:bg-gray-50 rounded-lg text-xl transition-colors" data-char="ðŸ˜Š">ðŸ˜Š</button>
          <button class="emoji-btn w-10 h-10 hover:bg-gray-50 rounded-lg text-xl transition-colors" data-char="ðŸ’€">ðŸ’€</button>
        </div>
        <!-- Popup arrow pointing downward -->
        <div class="absolute -bottom-1.5 left-3 w-3 h-3 bg-white border-b border-r border-gray-100 rotate-45"></div>
      </div>


<!-- 
  Input Wrapper: Container for the comment input field and send button.
-->

      <!-- Input Wrapper: Styled container for comment input -->
      <div class="flex items-center gap-2 bg-white rounded-2xl px-2 py-2 border border-gray-200 focus-within:border-brand-200 transition-all focus-within:ring-2 focus-within:ring-brand-500/10">
        
        <!-- ðŸ’» DESKTOP ONLY: Emoji Trigger Button - Shows popup on click -->
        <button id="desktopEmojiTrigger" class="hidden md:flex w-8 h-8 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-colors shrink-0 cursor-pointer">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>
            <line x1="9" y1="9" x2="9.01" y2="9"></line>
            <line x1="15" y1="9" x2="15.01" y2="9"></line>
          </svg>
        </button>

        <!-- Input Field: Text input for typing comments -->
        <input type="search" id="commentInput" placeholder="Add a comment..." 
          class="flex-1 bg-transparent border-none focus:ring-0 text-[16px] text-gray-800 placeholder-gray-400 h-9 outline-none appearance-none rounded-none [&::-webkit-search-cancel-button]:hidden pl-3" 
          autocomplete="off" autocorrect="on" autocapitalize="on" spellcheck="true" enterkeyhint="send" name="comment_field_safe">
        
        <!-- âœˆï¸ Send Button: Submits the comment -->
        <button id="sendCommentBtn" 
          class="group w-9 h-9 flex items-center justify-center rounded-full shrink-0 mr-1
                 bg-brand-50 text-brand-600 border border-transparent
                 transition-all duration-200
                 md:hover:bg-brand-100 md:hover:border-brand-200 md:hover:shadow-sm
                 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer">
                 
          <!-- Paper plane icon with hover animation -->
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="group-hover:-rotate-12 transition-transform ml-0.5 mt-0.5">
            <line x1="22" y1="2" x2="11" y2="13"></line>
            <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
          </svg>
        </button>

      </div>
    </div> <!-- End of comment input section -->
  </div> <!-- End of modal card -->
</div> <!-- End of comment modal -->  

<!-- 
  Additional global UI elements: Toast notifications and custom dialog.
-->

<!-- Toast Container: Fixed position for displaying temporary notifications -->
<div id="toast-container" class="fixed bottom-10 left-1/2 -translate-x-1/2 z-[100] flex flex-col-reverse gap-2 pointer-events-none w-full max-w-sm items-center">
  <!-- Toasts will be dynamically added here -->
</div>

<!-- Custom Dialog: Modal for confirmations and alerts -->
<div id="custom-dialog" class="fixed inset-0 z-[200] hidden flex items-center justify-center">
  
  <!-- Dialog Overlay: Semi-transparent background -->
  <div class="absolute inset-0 bg-black/60"></div>
  
  <!-- Dialog Content: Card with title, message, and buttons -->
  <div class="relative bg-white w-[85%] max-w-[300px] rounded-2xl shadow-xl overflow-hidden text-center">
    
    <!-- Dialog Body: Title and message -->
    <div class="pt-8 pb-6 px-6">
      <h3 id="dialog-title" class="text-xl font-bold text-slate-900 mb-2 tracking-tight"></h3>
      <p id="dialog-msg" class="text-[13px] text-slate-500 leading-snug"></p>
    </div>

    <!-- Dialog Buttons: Confirm and cancel actions -->
    <div class="flex flex-col text-[15px]">
      <!-- Confirm Button: Primary action -->
      <button id="dialog-confirm-btn" class="w-full py-3.5 font-bold border-t border-slate-100 hover:bg-slate-50 transition-colors outline-none">
        Confirm
      </button>

      <!-- Cancel Button: Dismisses the dialog -->
      <button onclick="closeDialog()" class="w-full py-3.5 text-slate-900 font-normal border-t border-slate-100 hover:bg-slate-50 transition-colors outline-none">
        Cancel
      </button>
    </div>
  </div>
</div>  

<!-- 
  Link Exit Modal: Warns users before leaving the app for external sites.
-->

<div id="link-exit-modal">
    <div class="modal-content">
        <!-- Modal Title -->
        <h3 class="text-white text-lg font-bold mb-2">Leaving Platform</h3>
        <!-- Warning Message -->
        <p class="text-gray-400 text-sm mb-6">You are now leaving for an external site. We aren't responsible for its content.</p>
        <!-- Target URL Display -->
        <p id="target-url-display" class="text-blue-400 text-xs mb-6 truncate italic"></p>
        <!-- Action Buttons -->
        <div class="flex gap-3 justify-center">
            <!-- Cancel Button -->
            <button onclick="closeExitModal()" class="modal-btn bg-gray-800 text-white hover:bg-gray-700">Go Back</button>
            <!-- Confirm Button: Links to external site -->
            <a id="confirm-exit-btn" href="#" target="_blank" onclick="closeExitModal()" class="modal-btn bg-blue-600 text-white hover:bg-blue-500">Continue</a>
        </div>
    </div>
</div>

</body>
</html>  
